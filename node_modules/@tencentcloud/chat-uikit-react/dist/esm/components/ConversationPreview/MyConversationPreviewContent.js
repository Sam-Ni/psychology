import{__assign as t}from"tslib";import{jsxs as e,jsx as n}from"react/jsx-runtime";import o,{useRef as r,useState as i}from"react";import{Avatar as a}from"../Avatar/Avatar.js";import{useConversation as s}from"../../hooks/useConversation.js";import{useTUIKitContext as c}from"../../context/TUIKitContext.js";import"../../context/TUIChatStateContext.js";import"../../context/TUIChatActionContext.js";import"../../context/TUIMessageContext.js";import"../../context/ComponentContext.js";import"../../context/TUIMessageInputContext.js";function v(o){var v=o.conversation,m=o.Avatar,l=void 0===m?a:m,p=o.displayImage,d=o.displayTitle;o.displayMessage,o.displayTime;var u=o.unread,C=o.active,x=o.setActiveConversation,f=o.setCurrentConversation,h=r(null),j=C?"conversation-preview-content--active":"",I=u&&u>=1?"conversation-preview-content--unread":"",N=v.isPinned?"conversation-preview-content--pin":"",T=i(!1);T[0];var g=T[1],w=c("ConversationPreviewContent"),y=w.tim;w.conversation;var A=s(y);return A.pinConversation,A.deleteConversation,e("button",t({type:"button","aria-selected":C,role:"option",className:"conversation-preview-container ".concat(j," ").concat(I," ").concat(N),onClick:function(){x&&x(v),(null==h?void 0:h.current)&&h.current.blur(),f&&f(v)},onMouseEnter:function(){g(!0)},onMouseLeave:function(){g(!1)},ref:h},{children:[n("div",t({className:"avatar"},{children:n(l,{image:p,name:d,size:40})})),n("div",t({className:"content"},{children:n("div",t({className:"title"},{children:d}))})),n("div",t({className:"unread"},{children:n("div",u?t({className:"unread"},{children:u<=99?u:"99+"}):{className:"unread"})}))]}))}var m=o.memo(v);export{m as MyConversationPreviewContent,v as unMemoMyConversationPreviewContent};
