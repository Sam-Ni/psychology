import{__assign as e}from"tslib";import{jsx as t,jsxs as a}from"react/jsx-runtime";import i,{useState as n}from"react";import o from"react-date-picker";import r from"tim-js-sdk";import{useTUIKitContext as l}from"../../context/TUIKitContext.js";import"../../context/TUIChatStateContext.js";import"../../context/TUIChatActionContext.js";import"../../context/TUIMessageContext.js";import"../../context/ComponentContext.js";import"../../context/TUIMessageInputContext.js";import{Avatar as c}from"../Avatar/Avatar.js";import{DivWithEdit as u}from"../DivWithEdit/DivWithEdit.js";import{Icon as s}from"../Icon/Icon.js";import{IconTypes as d}from"../Icon/type.js";import{handleDisplayAvatar as m}from"../untils.js";var v,p=((v={})[r.TYPES.GENDER_UNKNOWN]="unknow",v[r.TYPES.GENDER_MALE]="male",v[r.TYPES.GENDER_FEMALE]="female",v),f=["https://im.sdk.qcloud.com/download/tuikit-resource/avatar/avatar_1.png","https://im.sdk.qcloud.com/download/tuikit-resource/avatar/avatar_2.png","https://im.sdk.qcloud.com/download/tuikit-resource/avatar/avatar_3.png","https://im.sdk.qcloud.com/download/tuikit-resource/avatar/avatar_4.png","https://im.sdk.qcloud.com/download/tuikit-resource/avatar/avatar_5.png","https://im.sdk.qcloud.com/download/tuikit-resource/avatar/avatar_6.png"],h=[{label:"Male",value:r.TYPES.GENDER_MALE},{label:"Female",value:r.TYPES.GENDER_FEMALE}];var g=i.memo((function(i){var r,v,g=i.userInfo,N=i.className,E=i.update,k=l("TUIProfileDefault").setTUIProfileShow,x=n(""),b=x[0],D=x[1],I=[{name:"Signature",value:null==g?void 0:g.selfSignature,type:"text",children:null},{name:"Gender",value:null===(r=p[null==g?void 0:g.gender])||void 0===r?void 0:r.replace(p[null==g?void 0:g.gender][0],null===(v=p[null==g?void 0:g.gender][0])||void 0===v?void 0:v.toLocaleUpperCase()),type:"select",children:t("ul",e({className:"select-list"},{children:null==h?void 0:h.map((function(a,i){var n="".concat(a.value).concat(i);return t("li",e({className:"select-list-item",role:"menuitem",tabIndex:i,onClick:function(){w(a)}},{children:a.label}),n)}))}))},{name:"Birthday",value:null==g?void 0:g.birthday,type:"select",children:t(o,{className:"tui-profile-birthday",calendarClassName:"tui-profile-birthday-calendar",isOpen:!0,format:"y-MM-dd",onChange:function(e){M(e)},value:function(e){if(8===(null==e?void 0:e.length)){var t=Number(e.slice(0,4)),a=Number(e.slice(4,6)),i=Number(e.slice(-2));return new Date(t,a-1,i)}return new Date}("".concat(null==g?void 0:g.birthday))})}],y=function(e){D(e)},C=function(e){E(e),D("")},j=function(e){var t,a="";switch(null==e?void 0:e.name){case"nick":a="nick";break;case"Signature":a="selfSignature";break;default:return void D("")}var i=((t={})[a]=e.value,t);C(i)},w=function(e){C({gender:e.value})},M=function(e){var t,a,i,n;C({birthday:Number((t=e,a=t.getDate()>9?t.getDate():"0".concat(t.getDate()),i=t.getMonth()>8?t.getMonth()+1:"0".concat(t.getMonth()+1),n=t.getFullYear(),"".concat(n).concat(i).concat(a)))})};return a("div",e({className:"".concat(N," tui-profile")},{children:[a("header",e({className:"tui-profile-header"},{children:[t(s,{width:9,height:16,type:d.BACK,onClick:function(){k(!1)}}),t("h1",{children:"Personal information"})]})),a("main",e({className:"tui-profile-main"},{children:[t("div",e({className:"tui-profile-avatar"},{children:t(c,{image:m(null==g?void 0:g.avatar),size:94,update:function(e){C({avatar:e})},list:f})})),t(u,{name:"nick",className:"tui-profile-nick",value:null==g?void 0:g.nick,type:"text",toggle:y,isEdit:"nick"===b,confirm:j,close:function(){D("")}}),a("div",e({className:"tui-profile-ID"},{children:[t("h5",{children:"ID:"}),t("span",{children:null==g?void 0:g.userID})]}))]})),t("ul",e({className:"tui-profile-list"},{children:I.map((function(i){var n="".concat(i.name);return a("li",e({className:"tui-profile-list-item"},{children:[t("h4",{children:i.name}),t(u,e({className:"tui-profile-div-with-edit",classEditName:"tui-profile-edit",name:i.name,value:null==i?void 0:i.value,type:i.type,toggle:y,isEdit:b===i.name,confirm:j,close:function(){D("")}},{children:null==i?void 0:i.children}))]}),n)}))}))]}))}));function N(a){var i=e({},a);return t(g,e({},i))}export{N as TUIProfileDefault};
