import{__assign as e,__rest as t}from"tslib";import{useState as r,useEffect as a,useCallback as o}from"react";import s from"tim-js-sdk";function n(n){var c=n.tim,u=n.conversation,i=n.to,g=void 0===i?"":i,M=n.type,f=n.cloudCustomData,l=u.type,m=u.userProfile,d=u.groupProfile,p=M||l,v=r({to:g||(p===s.TYPES.CONV_C2C?null==m?void 0:m.userID:null==d?void 0:d.groupID),conversationType:p,cloudCustomData:f}),C=v[0],T=v[1];return a((function(){C.cloudCustomData=f,T(C)}),[f]),{createTextMessage:o((function(t){return c.createTextMessage(e(e({},C),t))}),[c]),createFaceMessage:o((function(t){return c.createFaceMessage(e(e({},C),t))}),[c]),createImageMessage:o((function(t){return c.createImageMessage(e(e({},C),t))}),[c]),createVideoMessage:o((function(t){return c.createVideoMessage(e(e({},C),t))}),[c]),createFileMessage:o((function(t){return c.createFileMessage(e(e({},C),t))}),[c]),createForwardMessage:o((function(r){var a=r.conversation,o=r.message,n=t(r,["conversation","message"]),u=a.type,i=a.userProfile,g=a.groupProfile,M=u===s.TYPES.CONV_C2C?null==i?void 0:i.userID:null==g?void 0:g.groupID;return c.createForwardMessage(e({to:M,conversationType:u,payload:o},n))}),[c]),createCustomMessage:o((function(t){return c.createCustomMessage(e(e({},C),t))}),[c]),createAudioMessage:o((function(t){return c.createAudioMessage(e(e({},C),t))}),[c]),createTextAtMessage:o((function(t){return c.createTextAtMessage(e(e({},C),t))}),[c]),createLocationMessage:o((function(t){return c.createLocationMessage(e(e({},C),t))}),[c]),createMergerMessage:o((function(t){return c.createMergerMessage(e(e({},C),t))}),[c])}}export{n as useCreateMessage};
