import{__assign as t}from"tslib";import{jsxs as e,Fragment as o,jsx as r}from"react/jsx-runtime";import{useState as i,useMemo as s}from"react";import{Icon as n}from"../Icon/Icon.js";import{IconTypes as a}from"../Icon/type.js";import{ConversationCreateUserSelectList as c}from"./ConversationCreateUserSelectList.js";import{ConversationCreatGroupDetail as C}from"./ConversationCreatGroupDetail.js";import{useTUIKitContext as m}from"../../context/TUIKitContext.js";import"../../context/TUIChatStateContext.js";import"../../context/TUIChatActionContext.js";import"../../context/TUIMessageContext.js";import"../../context/ComponentContext.js";import"../../context/TUIMessageInputContext.js";import{useConversation as p}from"../../hooks/useConversation.js";var E;function T(T){var f=T.className,l=void 0===f?"":f,v=T.setConversationCreated,u=T.conversationList,S=void 0===u?[]:u,x=i(!1),d=x[0],L=x[1],I=i(E.USER_SELECT),U=I[0],h=I[1],j=i([]),R=j[0],_=j[1],A=m().tim,P=p(A).createConversation,g=function(){if(d)switch(U){case E.USER_SELECT:L(!1);break;case E.CREATE_DETAIL:h(E.USER_SELECT),_([]);break;case E.GROUP_TYPE:h(E.CREATE_DETAIL)}else v(!1)};return s((function(){return e(o,{children:[e("div",t({className:"tui-conversation-create-header"},{children:[r(n,{onClick:g,type:a.BACK,width:9,height:16}),r("div",t({className:"title"},{children:d?"Add Participants":"New Chat"}))]})),U===E.USER_SELECT?r(c,{isCreateGroup:d,setIsCreateGroup:L,className:l,selectList:R,setSelectList:_,conversationList:S,setConversationCreated:v,setPageState:h}):r(C,{pageState:U,setPageState:h,profileList:R.map((function(t){return t.profile})),createConversation:P,setConversationCreated:v})]})}),[d,R,U])}!function(t){t.USER_SELECT="Next",t.CREATE_DETAIL="Create",t.GROUP_TYPE="GroupType"}(E||(E={}));export{T as ConversationCreate,E as PageStateTypes};
