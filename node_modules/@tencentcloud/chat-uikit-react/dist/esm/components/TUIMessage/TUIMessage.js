import{__assign as e}from"tslib";import{jsx as t}from"react/jsx-runtime";import o from"react";import"../../context/TUIKitContext.js";import{useTUIChatStateContext as s}from"../../context/TUIChatStateContext.js";import"../../context/TUIChatActionContext.js";import{TUIMessageContextProvider as l}from"../../context/TUIMessageContext.js";import{useComponentContext as n}from"../../context/ComponentContext.js";import"../../context/TUIMessageInputContext.js";import{useMessageHandler as i}from"./hooks/useMessageHandler.js";import"tim-js-sdk";import"../../constants.js";import"date-fns";import"../Icon/config.js";import"../Icon/type.js";import{TUIMessageDefault as m}from"./TUIMessageDefault.js";import{MessagePlugins as a}from"./MessagePlugins.js";import{MessageContext as r}from"./MessageContext.js";var u=o.memo((function(o){var i=o.message,u=o.TUIMessage,g=o.MessagePlugins,d=o.MessageContext,v=o.handleDelete,c=o.CustemElement,p=o.TextElement,f=o.ImageElement,x=o.VideoElement,E=o.AudioElement,h=o.FileElement,M=o.MergerElement,C=o.LocationElement,j=o.FaceElement,w=o.className,I=o.filter,T=o.isShowTime,A=o.isShowRead,P=o.plugin,S=o.prefix,N=o.suffix,U=o.customName,D=o.showAvatar,F=o.showName,L=o.customAvatar,R=o.isShowProgress,V=o.Progress,k=n(),b=k.MessagePlugins,y=k.MessageContext,H=s("TUIMessage").messageConfig,K=u||m,q=g||b||a,z=d||y||r,B=I||(null==H?void 0:H.filter),G=i||(null==H?void 0:H.message);B&&B(G);var J={message:G,handleDelete:v||(null==H?void 0:H.handleDelete),CustemElement:c||(null==H?void 0:H.CustemElement),TextElement:p||(null==H?void 0:H.TextElement),ImageElement:f||(null==H?void 0:H.ImageElement),VideoElement:x||(null==H?void 0:H.VideoElement),AudioElement:E||(null==H?void 0:H.AudioElement),FileElement:h||(null==H?void 0:H.FileElement),MergerElement:M||(null==H?void 0:H.MergerElement),LocationElement:C||(null==H?void 0:H.LocationElement),FaceElement:j||(null==H?void 0:H.FaceElement),isShowTime:T||(null==H?void 0:H.isShowTime),isShowRead:A||(null==H?void 0:H.isShowRead),plugin:P||(null==H?void 0:H.plugin),prefix:S||(null==H?void 0:H.prefix),suffix:N||(null==H?void 0:H.suffix),customName:U||(null==H?void 0:H.customName),showAvatar:D||(null==H?void 0:H.showAvatar),showName:F||(null==H?void 0:H.showName),customAvatar:L||(null==H?void 0:H.customAvatar),isShowProgress:R||(null==H?void 0:H.isShowProgress),Progress:V||(null==H?void 0:H.Progress)};return t(l,e({value:J},{children:t(K,{message:G,MessageContext:z,MessagePlugins:q,className:w||(null==H?void 0:H.className)})}))}));function g(o){var s=o.message,l=i({message:s}).handleDelMessage;return t(u,e({handleDelete:l},o))}export{g as TUIMessage};
