import{__assign as e}from"tslib";import{jsxs as s,jsx as t}from"react/jsx-runtime";import o from"react";import a from"tim-js-sdk";import{MessageBubble as m}from"./MessageBubble.js";import{MessageTip as i}from"./MessageTip.js";import"../../context/TUIKitContext.js";import"../../context/TUIChatStateContext.js";import"../../context/TUIChatActionContext.js";import{useTUIMessageContext as n,messageShowType as r}from"../../context/TUIMessageContext.js";import{useComponentContext as l}from"../../context/ComponentContext.js";import"../../context/TUIMessageInputContext.js";import{MessageSystem as p}from"./MessageSystem.js";import{MessageRevoke as c}from"./MessageRevoke.js";import{MessageName as u}from"./MessageName.js";import{MessageAvatar as d}from"./MessageAvatar.js";var g=o.memo((function(o){var g=o.message,v=o.MessageContext,f=o.MessagePlugins,x=o.className,T=l(),M=T.MessageContext,C=T.MessagePlugins,I=n("TUIMessage"),P=I.prefix,S=I.suffix,j=I.customName,N=I.showAvatar,_=void 0===N?r.IN:N,h=I.showName,G=void 0===h?r.IN:h,R=I.customAvatar,y=v||M,E=f||C;return s("div",e({className:"message-default\n      ".concat((null==g?void 0:g.type)===a.TYPES.MSG_GRP_TIP||(null==g?void 0:g.isRevoked)?"tip":null==g?void 0:g.flow,"\n      ").concat(x,"\n      ")},{children:[(null==g?void 0:g.type)===a.TYPES.MSG_GRP_TIP&&t(i,{message:g}),(null==g?void 0:g.type)===a.TYPES.MSG_GRP_SYS_NOTICE&&t(p,{message:g}),(null==g?void 0:g.isRevoked)&&t(c,{message:g}),(null==g?void 0:g.type)!==a.TYPES.MSG_GRP_TIP&&(null==g?void 0:g.type)!==a.TYPES.MSG_GRP_SYS_NOTICE&&!(null==g?void 0:g.isRevoked)&&s("div",e({className:"".concat(null==g?void 0:g.flow),"data-message-id":null==g?void 0:g.ID},{children:[P,t(d,{message:g,CustomAvatar:R,showType:_}),s("main",e({className:"content"},{children:[t(u,{message:g,CustomName:j,showType:G}),t(m,e({message:g,Context:y,Plugins:E},{children:t(y,{message:g})}))]})),S]}),null==g?void 0:g.ID)]}))}));function v(s){return s.message,t(g,e({},s))}export{v as TUIMessageDefault};
