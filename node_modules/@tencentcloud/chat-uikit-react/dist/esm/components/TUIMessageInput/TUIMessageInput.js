import{__assign as t}from"tslib";import{jsx as e,jsxs as o}from"react/jsx-runtime";import s from"react";import n from"tim-js-sdk";import{TUIMessageInputContextProvider as i}from"../../context/TUIMessageInputContext.js";import{useCreateMessageInputContext as r}from"./hooks/useCreateMessageInputContext.js";import{useMessageInputState as a}from"./hooks/useMessageInputState.js";import"../../constants.js";import"../../context/TUIKitContext.js";import{useTUIChatStateContext as m}from"../../context/TUIChatStateContext.js";import"../../context/TUIChatActionContext.js";import"../../context/TUIMessageContext.js";import{useComponentContext as u}from"../../context/ComponentContext.js";import"./hooks/useHandleQuoteMessage.js";import{EmptyStateIndicator as p}from"../EmptyStateIndicator/EmptyStateIndicator.js";import{InputQuoteDefalut as l}from"./InputQuoteDefalut.js";import{TUIMessageInputDefault as I}from"./TUIMessageInputDefault.js";import{InputPluginsDefalut as f}from"./InputPluginsDefalut.js";import{TUIForward as c}from"./TUIForward.js";import{Transmitter as d}from"./Transmitter.js";function g(o){var s=o.children,u=o.disabled,p=o.focus,l=o.pluginConfig,I=o.textareaRef,f=a(o),c=m("TUIMessageInput"),d=c.textareaRef,g=c.conversation,x=(null==g?void 0:g.type)===n.TYPES.CONV_SYSTEM,T=m("TUIMessageInput").TUIMessageInputConfig,j=p||(null==T?void 0:T.focus),C=r(t(t(t({},f),o),{textareaRef:I||(null==T?void 0:T.textareaRef)||d,disabled:u||(null==T?void 0:T.disabled)||x,focus:"boolean"!=typeof j||j,pluginConfig:l}));return e(i,t({value:C},{children:s}))}var x=s.memo((function(s){var n=s.TUIMessageInput,i=s.InputPlugins,r=s.InputQuote,a=s.isTransmitter,x=s.className,T=m("TUIMessageInput").TUIMessageInputConfig,j=x||(null==T?void 0:T.className),C=a||(null==T?void 0:T.isTransmitter)||!1,v=u(),M=v.TUIMessageInput,U=v.InputPlugins,h=v.InputQuote,S=n||M||I,b=i||U||f||p,N=r||h||l;return e("div",t({className:"tui-message-input ".concat(j)},{children:o(g,t({},s,{children:[e(c,{}),e(N,{}),o("div",t({className:"tui-message-input-main"},{children:[o("div",t({className:"tui-message-input-box"},{children:[e(b,{}),e(S,{})]})),C&&e(d,{})]}))]}))}))}));export{x as TUIMessageInput};
