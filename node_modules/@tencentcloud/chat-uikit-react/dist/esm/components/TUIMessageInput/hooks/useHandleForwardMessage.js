import{__awaiter as t,__generator as o}from"tslib";import{useState as e,useEffect as n}from"react";import r from"tim-js-sdk";import{MESSAGE_OPERATE as s}from"../../../constants.js";import{useTUIKitContext as i}from"../../../context/TUIKitContext.js";import{useTUIChatStateContext as a}from"../../../context/TUIChatStateContext.js";import{useTUIChatActionContext as c}from"../../../context/TUIChatActionContext.js";import"../../../context/TUIMessageContext.js";import"../../../context/ComponentContext.js";import"../../../context/TUIMessageInputContext.js";function m(m){var u=this,p=a("TUIMessageInputDefault").operateData,f=e([]),x=f[0],v=f[1],C=c(),d=C.sendMessage,g=C.createForwardMessage,l=i("TUIChat").tim,I=m||p[s.FORWARD];return n((function(){t(u,void 0,void 0,(function(){var t,e;return o(this,(function(o){switch(o.label){case 0:return[4,l.getConversationList()];case 1:return t=o.sent(),v(null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.conversationList.filter((function(t){return t.type!==r.TYPES.CONV_SYSTEM}))),[2]}}))}))}),[l]),{message:I,conversationList:x,sendForwardMessage:function(t){t.map((function(t){var o=g({conversation:t,message:I});return d(o),t}))}}}export{m as useHandleForwardMessage};
