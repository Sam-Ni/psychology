import{__assign as e}from"tslib";import{useReducer as t}from"react";import{CONSTANT_DISPATCH_TYPE as s}from"../../../constants.js";import{useEmojiPicker as a}from"./useEmojiPicker.js";import{useMessageInputText as r}from"./useMessageInputText.js";import{useUploadPicker as o}from"./useUploadPicker.js";var n={text:"",cursorPos:{start:0,end:0}},i=function(t,a){switch(a.type){case s.SET_TEXT:return e(e({},t),{text:null==a?void 0:a.getNewText(t.text)});case s.SET_CURSOR_POS:return e(e({},t),{cursorPos:null==a?void 0:a.value});default:return t}},d=function(s){var d=t(i,n),u=d[0],l=d[1],c=s.focus,m=s.textareaRef,f=o().sendUploadMessage,p=r({state:u,dispatch:l,textareaRef:m,focus:c,sendUploadMessage:f}),x=p.handleChange,h=p.handleSubmit,T=p.handleKeyDown,g=p.handlePasete,P=p.insertText,S=p.setText,j=p.setCursorPos,E=a({state:u,dispatch:l,textareaRef:m,insertText:P}),M=E.onSelectEmoji,R=E.sendFaceMessage;return e(e({},u),{handleChange:x,handleSubmit:h,handleKeyDown:T,handlePasete:g,onSelectEmoji:M,sendFaceMessage:R,sendUploadMessage:f,textareaRef:m,insertText:P,setText:S,focus:c,setCursorPos:j})};export{d as useMessageInputState};
