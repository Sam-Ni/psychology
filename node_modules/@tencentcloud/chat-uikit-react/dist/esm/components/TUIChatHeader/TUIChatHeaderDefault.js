import{__assign as t}from"tslib";import{jsx as e,jsxs as o}from"react/jsx-runtime";import i,{useState as a,useEffect as r}from"react";import n from"tim-js-sdk";import{Avatar as c}from"../Avatar/Avatar.js";import{handleDisplayAvatar as s}from"../untils.js";import{Icon as l}from"../Icon/Icon.js";import{IconTypes as m}from"../Icon/type.js";import{useTUIKitContext as d}from"../../context/TUIKitContext.js";import"../../context/TUIChatStateContext.js";import"../../context/TUIChatActionContext.js";import"../../context/TUIMessageContext.js";import"../../context/ComponentContext.js";import"../../context/TUIMessageInputContext.js";var h=i.memo((function(i){var h=i.title,u=void 0===h?"":h,v=i.avatar;i.isOnline;var p=i.conversation,f=i.isLive,C=i.opateIcon,S=a(u),I=S[0],T=S[1],x=a(""),N=x[0],j=x[1];r((function(){switch(T(u),v&&j(v),null==p?void 0:p.type){case n.TYPES.CONV_C2C:E(p.userProfile);break;case n.TYPES.CONV_GROUP:P(p.groupProfile);break;case n.TYPES.CONV_SYSTEM:T("System Notice");break;default:T("")}}),[p]);var E=function(t){I||T((null==t?void 0:t.nick)||(null==t?void 0:t.userID)),v||j(e(c,{size:32,image:s(t.avatar)}))},P=function(t){I||T((null==t?void 0:t.name)||(null==t?void 0:t.groupID)),v||j(e(c,{size:32,image:s(t.avatar,n.TYPES.CONV_GROUP)}))},g=d().setTUIManageShow;return o("header",t({className:"tui-chat-header ".concat(f?"tui-chat-live-header":"")},{children:[e("div",t({className:"tui-chat-header-left ".concat((null==p?void 0:p.type)===n.TYPES.CONV_SYSTEM?"system":"")},{children:(null==p?void 0:p.type)!==n.TYPES.CONV_SYSTEM&&N})),e("div",t({className:"header-content"},{children:e("h3",t({className:"title"},{children:I}))})),e("div",t({className:"tui-chat-header-right"},{children:e("div",t({className:"header-handle"},{children:C||e(l,{className:"header-handle-more",onClick:function(){g(!0)},type:m.ELLIPSE,width:18,height:5})}))}))]}),null==p?void 0:p.conversationID)}));function u(o){var i=t({},o);return e(h,t({},i))}export{u as TUIChatHeaderDefault};
