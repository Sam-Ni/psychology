"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),t=require("react/jsx-runtime"),i=require("react"),s=require("../../context/TUIKitContext.js");require("../../context/TUIChatStateContext.js"),require("../../context/TUIChatActionContext.js"),require("../../context/TUIMessageContext.js"),require("../../context/ComponentContext.js"),require("../../context/TUIMessageInputContext.js");var n=require("./ConversationPreviewContent.js"),r=require("./utils.js");exports.ConversationPreview=function(a){var o=a.activeConversation,u=a.conversation,l=a.Preview,v=void 0===l?n.ConversationPreviewContent:l,c=a.searchValue,C=a.conversationUpdateCount,p=s.useTUIKitContext("ConversationPreview"),g=p.setActiveConversation,x=p.myProfile,y=i.useState(r.getDisplayImage(u)),d=y[0],I=y[1],T=i.useState(r.getDisplayTitle(u,c)),j=T[0],q=T[1],D=i.useState(r.getDisplayMessage(u,x)),m=D[0],P=D[1],U=i.useState(r.getDisplayTime(u)),f=U[0],M=U[1],S=i.useState(u.unreadCount),w=S[0],_=S[1],h=(null==o?void 0:o.conversationID)===(null==u?void 0:u.conversationID);return v?(i.useEffect((function(){q(r.getDisplayTitle(u,c)),P(r.getDisplayMessage(u,x)),I(r.getDisplayImage(u)),M(r.getDisplayTime(u)),_(u.unreadCount)}),[u,c,C]),t.jsx(v,e.__assign({},a,{active:h,displayImage:d,displayTitle:j,displayMessage:m,displayTime:f,unread:w,setActiveConversation:g}))):null};
