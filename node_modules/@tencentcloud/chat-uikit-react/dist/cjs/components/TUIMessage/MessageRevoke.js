"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),t=require("react/jsx-runtime"),s=require("react"),n=require("tim-js-sdk"),r=require("../../constants.js");require("../../context/TUIKitContext.js"),require("../../context/TUIChatStateContext.js");var o=require("../../context/TUIChatActionContext.js");function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("../../context/TUIMessageContext.js"),require("../../context/ComponentContext.js"),require("../../context/TUIMessageInputContext.js");var i=a(s),u=a(n);var l=i.default.memo((function(n){var a=n.message,i=o.useTUIChatActionContext().operateMessage,l=s.useCallback((function(){var e;i(((e={})[r.MESSAGE_OPERATE.REVOKE]=a,e))}),[i]);return t.jsxs("div",e.__assign({className:"bubble message-system message-revoke"},{children:[(null==a?void 0:a.flow)===r.MESSAGE_FLOW.IN&&t.jsx("span",{children:(null==a?void 0:a.nick)||(null==a?void 0:a.from)}),(null==a?void 0:a.flow)!==r.MESSAGE_FLOW.IN&&t.jsx("span",{children:"you "}),t.jsx("span",{children:" recalled a message"}),(null==a?void 0:a.flow)===r.MESSAGE_FLOW.OUT&&(null==a?void 0:a.type)===u.default.TYPES.MSG_TEXT&&t.jsx("span",e.__assign({className:"edit",role:"button",tabIndex:0,onClick:l},{children:" Re-edit"}))]}))}));exports.MessageRevoke=function(s){return t.jsx(l,e.__assign({},s))};
