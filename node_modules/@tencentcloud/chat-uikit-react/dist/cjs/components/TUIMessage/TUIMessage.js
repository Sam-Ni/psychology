"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),s=require("react/jsx-runtime"),t=require("react");require("../../context/TUIKitContext.js");var n=require("../../context/TUIChatStateContext.js");require("../../context/TUIChatActionContext.js");var l=require("../../context/TUIMessageContext.js"),o=require("../../context/ComponentContext.js");require("../../context/TUIMessageInputContext.js");var i=require("./hooks/useMessageHandler.js");require("tim-js-sdk"),require("../../constants.js"),require("date-fns"),require("../Icon/config.js"),require("../Icon/type.js");var a=require("./TUIMessageDefault.js"),r=require("./MessagePlugins.js"),u=require("./MessageContext.js");function m(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var g=m(t).default.memo((function(t){var i=t.message,m=t.TUIMessage,g=t.MessagePlugins,d=t.MessageContext,v=t.handleDelete,c=t.CustemElement,x=t.TextElement,E=t.ImageElement,h=t.VideoElement,M=t.AudioElement,f=t.FileElement,C=t.MergerElement,j=t.LocationElement,q=t.FaceElement,I=t.className,T=t.filter,w=t.isShowTime,p=t.isShowRead,P=t.plugin,U=t.prefix,S=t.suffix,A=t.customName,N=t.showAvatar,D=t.showName,F=t.customAvatar,_=t.isShowProgress,b=t.Progress,y=o.useComponentContext(),L=y.MessagePlugins,R=y.MessageContext,V=n.useTUIChatStateContext("TUIMessage").messageConfig,k=m||a.TUIMessageDefault,H=g||L||r.MessagePlugins,K=d||R||u.MessageContext,O=T||(null==V?void 0:V.filter),z=i||(null==V?void 0:V.message);O&&O(z);var B={message:z,handleDelete:v||(null==V?void 0:V.handleDelete),CustemElement:c||(null==V?void 0:V.CustemElement),TextElement:x||(null==V?void 0:V.TextElement),ImageElement:E||(null==V?void 0:V.ImageElement),VideoElement:h||(null==V?void 0:V.VideoElement),AudioElement:M||(null==V?void 0:V.AudioElement),FileElement:f||(null==V?void 0:V.FileElement),MergerElement:C||(null==V?void 0:V.MergerElement),LocationElement:j||(null==V?void 0:V.LocationElement),FaceElement:q||(null==V?void 0:V.FaceElement),isShowTime:w||(null==V?void 0:V.isShowTime),isShowRead:p||(null==V?void 0:V.isShowRead),plugin:P||(null==V?void 0:V.plugin),prefix:U||(null==V?void 0:V.prefix),suffix:S||(null==V?void 0:V.suffix),customName:A||(null==V?void 0:V.customName),showAvatar:N||(null==V?void 0:V.showAvatar),showName:D||(null==V?void 0:V.showName),customAvatar:F||(null==V?void 0:V.customAvatar),isShowProgress:_||(null==V?void 0:V.isShowProgress),Progress:b||(null==V?void 0:V.Progress)};return s.jsx(l.TUIMessageContextProvider,e.__assign({value:B},{children:s.jsx(k,{message:z,MessageContext:K,MessagePlugins:H,className:I||(null==V?void 0:V.className)})}))}));exports.TUIMessage=function(t){var n=t.message,l=i.useMessageHandler({message:n}).handleDelMessage;return s.jsx(g,e.__assign({handleDelete:l},t))};
