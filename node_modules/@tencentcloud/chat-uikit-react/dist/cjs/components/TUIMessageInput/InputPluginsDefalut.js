"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),i=require("react/jsx-runtime"),n=require("react"),o=require("./EmojiPicker.js"),l=require("../Plugins/index.js"),t=require("./hooks/useUploadElement.js"),s=require("../../constants.js"),u=require("../../context/TUIMessageInputContext.js"),r=require("../Icon/Icon.js"),c=require("../Icon/type.js");require("../../context/TUIKitContext.js");var d=require("../../context/TUIChatStateContext.js");require("../../context/TUIChatActionContext.js"),require("../../context/TUIMessageContext.js"),require("../../context/ComponentContext.js"),exports.InputPluginsDefalut=function(){var a,p,g,v,I,j,x,f=u.useTUIMessageInputContext("TUIMessageInputDefault"),h=f.sendUploadMessage,E=f.pluginConfig,m=d.useTUIChatStateContext("TUIMessageInput").TUIMessageInputConfig,C=(null==E?void 0:E.plugins)||(null===(a=null==m?void 0:m.pluginConfig)||void 0===a?void 0:a.plugins)||[],M=(null==E?void 0:E.showNumber)||(null===(p=null==m?void 0:m.pluginConfig)||void 0===p?void 0:p.showNumber)||1,P=(null==E?void 0:E.MoreIcon)||(null===(g=null==m?void 0:m.pluginConfig)||void 0===g?void 0:g.MoreIcon),T=function(e,i,n){return"boolean"==typeof e?e:"boolean"==typeof i?i:n},U=T(null==E?void 0:E.isEmojiPicker,null===(v=null==m?void 0:m.pluginConfig)||void 0===v?void 0:v.isEmojiPicker,!0),_=T(null==E?void 0:E.isImagePicker,null===(I=null==m?void 0:m.pluginConfig)||void 0===I?void 0:I.isImagePicker,!0),q=T(null==E?void 0:E.isVideoPicker,null===(j=null==m?void 0:m.pluginConfig)||void 0===j?void 0:j.isVideoPicker,!0),y=T(null==E?void 0:E.isFilePicker,null===(x=null==m?void 0:m.pluginConfig)||void 0===x?void 0:x.isFilePicker,!0),k=n.useRef(null),A=_&&t.useUploadElement({children:i.jsxs("div",e.__assign({className:"input-plugin-item"},{children:[i.jsx(r.Icon,{width:20,height:20,type:c.IconTypes.IMAGE}),i.jsx("span",{children:"Image"})]})),type:"image",accept:"image/*",onChange:function(e){k.current.closeMore(),h({file:e},s.MESSAGE_TYPE_NAME.IMAGE)}}),N=q&&t.useUploadElement({children:i.jsxs("div",e.__assign({className:"input-plugin-item"},{children:[i.jsx(r.Icon,{width:20,height:20,type:c.IconTypes.VIDEO}),i.jsx("span",{children:"Video"})]})),type:"video",accept:"video/*",onChange:function(e){k.current.closeMore(),h({file:e},s.MESSAGE_TYPE_NAME.VIDEO)}}),S=y&&t.useUploadElement({children:i.jsxs("div",e.__assign({className:"input-plugin-item"},{children:[i.jsx(r.Icon,{width:20,height:20,type:c.IconTypes.DOCUMENT}),i.jsx("span",{children:"Document"})]})),type:"file",accept:"file/*",onChange:function(e){k.current.closeMore(),h({file:e},s.MESSAGE_TYPE_NAME.FILE)}}),b=e.__spreadArray([U&&i.jsx(o.EmojiPicker,{}),A,N,S],C,!0).filter((function(e){return e}));return i.jsx(l.Plugins,{ref:k,plugins:b,showNumber:M,MoreIcon:P})};
