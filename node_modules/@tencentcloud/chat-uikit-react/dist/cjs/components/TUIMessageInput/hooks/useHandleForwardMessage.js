"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),t=require("react"),n=require("tim-js-sdk"),r=require("../../../constants.js"),s=require("../../../context/TUIKitContext.js"),o=require("../../../context/TUIChatStateContext.js"),a=require("../../../context/TUIChatActionContext.js");function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("../../../context/TUIMessageContext.js"),require("../../../context/ComponentContext.js"),require("../../../context/TUIMessageInputContext.js");var u=i(n);exports.useHandleForwardMessage=function(n){var i=this,c=o.useTUIChatStateContext("TUIMessageInputDefault").operateData,d=t.useState([]),f=d[0],x=d[1],C=a.useTUIChatActionContext(),l=C.sendMessage,v=C.createForwardMessage,T=s.useTUIKitContext("TUIChat").tim,I=n||c[r.MESSAGE_OPERATE.FORWARD];return t.useEffect((function(){e.__awaiter(i,void 0,void 0,(function(){var t,n;return e.__generator(this,(function(e){switch(e.label){case 0:return[4,T.getConversationList()];case 1:return t=e.sent(),x(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.conversationList.filter((function(e){return e.type!==u.default.TYPES.CONV_SYSTEM}))),[2]}}))}))}),[T]),{message:I,conversationList:f,sendForwardMessage:function(e){e.map((function(e){var t=v({conversation:e,message:I});return l(t),e}))}}};
