"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),s=require("react"),t=require("../../../constants.js"),a=require("./useEmojiPicker.js"),r=require("./useMessageInputText.js"),n=require("./useUploadPicker.js"),u={text:"",cursorPos:{start:0,end:0}},i=function(s,a){switch(a.type){case t.CONSTANT_DISPATCH_TYPE.SET_TEXT:return e.__assign(e.__assign({},s),{text:null==a?void 0:a.getNewText(s.text)});case t.CONSTANT_DISPATCH_TYPE.SET_CURSOR_POS:return e.__assign(e.__assign({},s),{cursorPos:null==a?void 0:a.value});default:return s}};exports.useMessageInputState=function(t){var o=s.useReducer(i,u),d=o[0],c=o[1],l=t.focus,_=t.textareaRef,T=n.useUploadPicker().sendUploadMessage,g=r.useMessageInputText({state:d,dispatch:c,textareaRef:_,focus:l,sendUploadMessage:T}),x=g.handleChange,P=g.handleSubmit,p=g.handleKeyDown,h=g.handlePasete,S=g.insertText,f=g.setText,j=g.setCursorPos,C=a.useEmojiPicker({state:d,dispatch:c,textareaRef:_,insertText:S}),E=C.onSelectEmoji,M=C.sendFaceMessage;return e.__assign(e.__assign({},d),{handleChange:x,handleSubmit:P,handleKeyDown:p,handlePasete:h,onSelectEmoji:E,sendFaceMessage:M,sendUploadMessage:T,textareaRef:_,insertText:S,setText:f,focus:l,setCursorPos:j})};
