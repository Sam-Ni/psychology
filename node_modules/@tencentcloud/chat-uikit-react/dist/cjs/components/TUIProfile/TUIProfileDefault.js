"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),t=require("react/jsx-runtime"),a=require("react"),i=require("react-date-picker"),n=require("tim-js-sdk"),r=require("../../context/TUIKitContext.js");require("../../context/TUIChatStateContext.js"),require("../../context/TUIChatActionContext.js"),require("../../context/TUIMessageContext.js"),require("../../context/ComponentContext.js"),require("../../context/TUIMessageInputContext.js");var l=require("../Avatar/Avatar.js"),s=require("../DivWithEdit/DivWithEdit.js"),o=require("../Icon/Icon.js"),u=require("../Icon/type.js"),c=require("../untils.js");function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var v,m=d(a),f=d(i),h=d(n),p=((v={})[h.default.TYPES.GENDER_UNKNOWN]="unknow",v[h.default.TYPES.GENDER_MALE]="male",v[h.default.TYPES.GENDER_FEMALE]="female",v),g=["https://im.sdk.qcloud.com/download/tuikit-resource/avatar/avatar_1.png","https://im.sdk.qcloud.com/download/tuikit-resource/avatar/avatar_2.png","https://im.sdk.qcloud.com/download/tuikit-resource/avatar/avatar_3.png","https://im.sdk.qcloud.com/download/tuikit-resource/avatar/avatar_4.png","https://im.sdk.qcloud.com/download/tuikit-resource/avatar/avatar_5.png","https://im.sdk.qcloud.com/download/tuikit-resource/avatar/avatar_6.png"],x=[{label:"Male",value:h.default.TYPES.GENDER_MALE},{label:"Female",value:h.default.TYPES.GENDER_FEMALE}];var _=m.default.memo((function(i){var n,d,v=i.userInfo,m=i.className,h=i.update,_=r.useTUIKitContext("TUIProfileDefault").setTUIProfileShow,j=a.useState(""),E=j[0],N=j[1],k=[{name:"Signature",value:null==v?void 0:v.selfSignature,type:"text",children:null},{name:"Gender",value:null===(n=p[null==v?void 0:v.gender])||void 0===n?void 0:n.replace(p[null==v?void 0:v.gender][0],null===(d=p[null==v?void 0:v.gender][0])||void 0===d?void 0:d.toLocaleUpperCase()),type:"select",children:t.jsx("ul",e.__assign({className:"select-list"},{children:null==x?void 0:x.map((function(a,i){var n="".concat(a.value).concat(i);return t.jsx("li",e.__assign({className:"select-list-item",role:"menuitem",tabIndex:i,onClick:function(){y(a)}},{children:a.label}),n)}))}))},{name:"Birthday",value:null==v?void 0:v.birthday,type:"select",children:t.jsx(f.default,{className:"tui-profile-birthday",calendarClassName:"tui-profile-birthday-calendar",isOpen:!0,format:"y-MM-dd",onChange:function(e){b(e)},value:function(e){if(8===(null==e?void 0:e.length)){var t=Number(e.slice(0,4)),a=Number(e.slice(4,6)),i=Number(e.slice(-2));return new Date(t,a-1,i)}return new Date}("".concat(null==v?void 0:v.birthday))})}],q=function(e){N(e)},D=function(e){h(e),N("")},I=function(e){var t,a="";switch(null==e?void 0:e.name){case"nick":a="nick";break;case"Signature":a="selfSignature";break;default:return void N("")}var i=((t={})[a]=e.value,t);D(i)},y=function(e){D({gender:e.value})},b=function(e){var t,a,i,n;D({birthday:Number((t=e,a=t.getDate()>9?t.getDate():"0".concat(t.getDate()),i=t.getMonth()>8?t.getMonth()+1:"0".concat(t.getMonth()+1),n=t.getFullYear(),"".concat(n).concat(i).concat(a)))})};return t.jsxs("div",e.__assign({className:"".concat(m," tui-profile")},{children:[t.jsxs("header",e.__assign({className:"tui-profile-header"},{children:[t.jsx(o.Icon,{width:9,height:16,type:u.IconTypes.BACK,onClick:function(){_(!1)}}),t.jsx("h1",{children:"Personal information"})]})),t.jsxs("main",e.__assign({className:"tui-profile-main"},{children:[t.jsx("div",e.__assign({className:"tui-profile-avatar"},{children:t.jsx(l.Avatar,{image:c.handleDisplayAvatar(null==v?void 0:v.avatar),size:94,update:function(e){D({avatar:e})},list:g})})),t.jsx(s.DivWithEdit,{name:"nick",className:"tui-profile-nick",value:null==v?void 0:v.nick,type:"text",toggle:q,isEdit:"nick"===E,confirm:I,close:function(){N("")}}),t.jsxs("div",e.__assign({className:"tui-profile-ID"},{children:[t.jsx("h5",{children:"ID:"}),t.jsx("span",{children:null==v?void 0:v.userID})]}))]})),t.jsx("ul",e.__assign({className:"tui-profile-list"},{children:k.map((function(a){var i="".concat(a.name);return t.jsxs("li",e.__assign({className:"tui-profile-list-item"},{children:[t.jsx("h4",{children:a.name}),t.jsx(s.DivWithEdit,e.__assign({className:"tui-profile-div-with-edit",classEditName:"tui-profile-edit",name:a.name,value:null==a?void 0:a.value,type:a.type,toggle:q,isEdit:E===a.name,confirm:I,close:function(){N("")}},{children:null==a?void 0:a.children}))]}),i)}))}))]}))}));exports.TUIProfileDefault=function(a){var i=e.__assign({},a);return t.jsx(_,e.__assign({},i))};
