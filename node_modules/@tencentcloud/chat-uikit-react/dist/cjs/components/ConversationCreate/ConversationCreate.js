"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),t=require("react/jsx-runtime"),s=require("react"),r=require("../Icon/Icon.js"),a=require("../Icon/type.js"),o=require("./ConversationCreateUserSelectList.js"),n=require("./ConversationCreatGroupDetail.js"),i=require("../../context/TUIKitContext.js");require("../../context/TUIChatStateContext.js"),require("../../context/TUIChatActionContext.js"),require("../../context/TUIMessageContext.js"),require("../../context/ComponentContext.js"),require("../../context/TUIMessageInputContext.js");var C,c=require("../../hooks/useConversation.js");exports.PageStateTypes=void 0,(C=exports.PageStateTypes||(exports.PageStateTypes={})).USER_SELECT="Next",C.CREATE_DETAIL="Create",C.GROUP_TYPE="GroupType",exports.ConversationCreate=function(C){var p=C.className,u=void 0===p?"":p,x=C.setConversationCreated,T=C.conversationList,S=void 0===T?[]:T,E=s.useState(!1),v=E[0],l=E[1],g=s.useState(exports.PageStateTypes.USER_SELECT),j=g[0],P=g[1],d=s.useState([]),I=d[0],_=d[1],y=i.useTUIKitContext().tim,L=c.useConversation(y).createConversation,U=function(){if(v)switch(j){case exports.PageStateTypes.USER_SELECT:l(!1);break;case exports.PageStateTypes.CREATE_DETAIL:P(exports.PageStateTypes.USER_SELECT),_([]);break;case exports.PageStateTypes.GROUP_TYPE:P(exports.PageStateTypes.CREATE_DETAIL)}else x(!1)};return s.useMemo((function(){return t.jsxs(t.Fragment,{children:[t.jsxs("div",e.__assign({className:"tui-conversation-create-header"},{children:[t.jsx(r.Icon,{onClick:U,type:a.IconTypes.BACK,width:9,height:16}),t.jsx("div",e.__assign({className:"title"},{children:v?"Add Participants":"New Chat"}))]})),j===exports.PageStateTypes.USER_SELECT?t.jsx(o.ConversationCreateUserSelectList,{isCreateGroup:v,setIsCreateGroup:l,className:u,selectList:I,setSelectList:_,conversationList:S,setConversationCreated:x,setPageState:P}):t.jsx(n.ConversationCreatGroupDetail,{pageState:j,setPageState:P,profileList:I.map((function(e){return e.profile})),createConversation:L,setConversationCreated:x})]})}),[v,I,j])};
