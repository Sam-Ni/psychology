"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),t=require("react/jsx-runtime"),a=require("react"),s=require("tim-js-sdk"),i=require("../Avatar/Avatar.js"),r=require("../untils.js"),n=require("../Icon/Icon.js"),o=require("../Icon/type.js"),u=require("../../context/TUIKitContext.js");function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("../../context/TUIChatStateContext.js"),require("../../context/TUIChatActionContext.js"),require("../../context/TUIMessageContext.js"),require("../../context/ComponentContext.js"),require("../../context/TUIMessageInputContext.js");var c=l(a),d=l(s);var v=c.default.memo((function(s){var l=s.title,c=void 0===l?"":l,v=s.avatar;s.isOnline;var h=s.conversation,x=s.isLive,f=s.opateIcon,j=a.useState(c),_=j[0],C=j[1],I=a.useState(""),m=I[0],S=I[1];a.useEffect((function(){switch(C(c),v&&S(v),null==h?void 0:h.type){case d.default.TYPES.CONV_C2C:T(h.userProfile);break;case d.default.TYPES.CONV_GROUP:g(h.groupProfile);break;case d.default.TYPES.CONV_SYSTEM:C("System Notice");break;default:C("")}}),[h]);var T=function(e){_||C((null==e?void 0:e.nick)||(null==e?void 0:e.userID)),v||S(t.jsx(i.Avatar,{size:32,image:r.handleDisplayAvatar(e.avatar)}))},g=function(e){_||C((null==e?void 0:e.name)||(null==e?void 0:e.groupID)),v||S(t.jsx(i.Avatar,{size:32,image:r.handleDisplayAvatar(e.avatar,d.default.TYPES.CONV_GROUP)}))},p=u.useTUIKitContext().setTUIManageShow;return t.jsxs("header",e.__assign({className:"tui-chat-header ".concat(x?"tui-chat-live-header":"")},{children:[t.jsx("div",e.__assign({className:"tui-chat-header-left ".concat((null==h?void 0:h.type)===d.default.TYPES.CONV_SYSTEM?"system":"")},{children:(null==h?void 0:h.type)!==d.default.TYPES.CONV_SYSTEM&&m})),t.jsx("div",e.__assign({className:"header-content"},{children:t.jsx("h3",e.__assign({className:"title"},{children:_}))})),t.jsx("div",e.__assign({className:"tui-chat-header-right"},{children:t.jsx("div",e.__assign({className:"header-handle"},{children:f||t.jsx(n.Icon,{className:"header-handle-more",onClick:function(){p(!0)},type:o.IconTypes.ELLIPSE,width:18,height:5})}))}))]}),null==h?void 0:h.conversationID)}));exports.TUIChatHeaderDefault=function(a){var s=e.__assign({},a);return t.jsx(v,e.__assign({},s))};
